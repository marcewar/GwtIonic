/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */
const{h:e}=window.Ionic;import{focusOutActiveElement as o,getDocument as t,getWindow as n,hasFocusedTextInput as i}from"./chunk1.js";const d=9;let r=null,s=null,a=null,l=null,c=null,u=null,b=null;class m{componentDidLoad(){(function(e,o){let t=!1;const n=()=>{window.requestAnimationFrame(()=>{e.body.classList[t?"add":"remove"]("focus-outline")})};if(!0===o)return t=!0,n();if(!1===o)return;const i=()=>{t=!1,r()},r=()=>{n(),e.removeEventListener("mousedown",i),e.removeEventListener("touchstart",i),t&&(e.addEventListener("mousedown",i),e.addEventListener("touchstart",i))};e.addEventListener("keydown",e=>{t||e.keyCode!==d||(t=!0,r())})})(t(),this.config.get("focusOutline")),this.config.getBoolean("keyboardResizes",!1)?function(e,o){r=(()=>{o.keyboardWillShow.emit()}),e.addEventListener("keyboardWillShow",r),s=(()=>{o.keyboardWillHide.emit()}),e.addEventListener("keyboardWillHide",s),a=(()=>{o.keyboardDidShow.emit()}),e.addEventListener("keyboardDidShow",a),l=(()=>{o.keyboardDidHide.emit()}),e.addEventListener("keyboardDidHide",l)}(n(),this):function(e,o){c=(()=>{y(!0,o)}),e.addEventListener("native.keyboardhide",c),u=(()=>{y(!1,o)}),e.addEventListener("native.keyboardshow",u)}(n(),this)}isOpen(){return i()}onClose(e,o=h,t=k){return function(e,o,t,n){let i=0;const d=o?null:new Promise(e=>{o=e}),r=()=>{!e.isOpen()||i>n?setTimeout(()=>{o()},400):setTimeout(r,t),i++};return setTimeout(r,t),d}(this,e,o,t)}static get is(){return"ion-keyboard-controller"}static get properties(){return{config:{context:"config"}}}static get events(){return[{name:"keyboardWillShow",method:"keyboardWillShow",bubbles:!0,cancelable:!0,composed:!0},{name:"keyboardDidShow",method:"keyboardDidShow",bubbles:!0,cancelable:!0,composed:!0},{name:"keyboardWillHide",method:"keyboardWillHide",bubbles:!0,cancelable:!0,composed:!0},{name:"keyboardDidHide",method:"keyboardDidHide",bubbles:!0,cancelable:!0,composed:!0}]}}function y(e,t){clearTimeout(b),e&&(b=setTimeout(()=>{t.isOpen()&&o()},80))}const h=150,k=100;export{m as IonKeyboardController};