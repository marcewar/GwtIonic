/*!
 * (C) Ionic http://ionicframework.com - MIT License
 * Built with http://stenciljs.com
 */
Ionic.loadBundle("fufvoa7p",["exports"],function(t){window.Ionic.h;var e=function(){function t(){this.path=""}return Object.defineProperty(t,"is",{get:function(){return"ion-route"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{component:{type:String,attr:"component"},params:{type:"Any",attr:"params"},path:{type:String,attr:"path"},redirectTo:{type:String,attr:"redirect-to"}}},enumerable:!0,configurable:!0}),t}();function r(t){if(null===t||void 0===t)return[""];var e=t.split("/").map(function(t){return t.trim()}).filter(function(t){return t.length>0});return 0===e.length?[""]:e}function n(t,e){return e in t?t[e]:t.hasAttribute(e)?t.getAttribute(e):void 0}function i(t,e,r){var n=t.slice();if(n.push({id:r.id,path:r.path,params:r.params}),0!==r.children.length)for(var o=0,a=r.children;o<a.length;o++)i(n,e,a[o]);else e.push(n)}var o="ion-nav,ion-tabs";function a(t){return t.matches(o)?t:t.querySelector(o)}function u(t,e){var r=e.path;if(r.length!==t.length)return!1;for(var n=0;n<r.length;n++)if(r[n]!==t[n])return!1;return!0}function s(t,e){for(var r=Math.min(t.length,e.length),n=0;n<r&&t[n].toLowerCase()===e[n].id;n++);return n}function h(t,e){for(var r,n=new l(t),i=!1,o=0;o<e.length;o++){var a=e[o].path;if(""===a[0])i=!0;else{for(var u=0,s=a;u<s.length;u++){var h=s[u],f=n.next();if(":"===h[0]){if(""===f)return null;((r=r||[])[o]||(r[o]={}))[h.slice(1)]=f}else if(f!==h)return null}i=!1}}return i&&i!==(""===n.next())?null:r?e.map(function(t,e){return{id:t.id,path:t.path,params:c(t.params,r[e])}}):e}function c(t,e){return!t&&e?e:t&&!e?t:t&&e?Object.assign({},t,e):void 0}var l=function(){function t(t){this.path=t.slice()}return t.prototype.next=function(){return this.path.length>0?this.path.shift():""},t}(),f=function(){function t(){this.busy=!1,this.state=0,this.base="",this.useHash=!0}return t.prototype.componentDidLoad=function(){var t,e=this,o=function t(e){return Array.from(e.children).filter(function(t){return"ION-ROUTE"===t.tagName&&t.component}).map(function(e){var i=r(n(e,"path"));return i.includes(":id")&&console.warn('Using ":id" is not recommended in `ion-route`, it causes conflicts in the DOM'),{path:i,id:n(e,"component").toLowerCase(),params:e.params,children:t(e)}})}(this.el);this.routes=function(t){for(var e=[],r=0,n=o;r<n.length;r++)i([],e,n[r]);return e}(),this.redirects=(t=this.el,Array.from(t.children).filter(function(t){return"ION-ROUTE"===t.tagName&&t.redirectTo}).map(function(t){if(t.component)throw new Error("Can't mix the component and redirectTo attribute in the same ion-route");return{path:r(n(t,"path")),to:r(n(t,"redirectTo"))}})),this.dom.raf(function(){e.onPopState()})},t.prototype.onPopState=function(){null===window.history.state&&(this.state++,window.history.replaceState(this.state,document.title,document.location.href)),this.writeNavStateRoot(this.readPath())},t.prototype.navChanged=function(t){if(!this.busy){var e=this.readNavState(),r=e.ids,n=e.pivot,i=function(t,e){for(var r=null,n=0,i=t.map(function(t){return t.id}),o=0,a=e;o<a.length;o++){var u=a[o],h=s(i,u);h>n&&(r=u,n=h)}return r?r.map(function(e,r){return{id:e.id,path:e.path,params:c(e.params,t[r]&&t[r].params)}}):null}(r,this.routes);if(i){var o=function(t){for(var e=[],r=0,n=t;r<n.length;r++)for(var i=n[r],o=0,a=i.path;o<a.length;o++){var u=a[o];if(":"===u[0]){var s=i.params&&i.params[u.slice(1)];if(!s)throw new Error("missing param "+u.slice(1));e.push(s)}else""!==u&&e.push(u)}return e}(i);if(this.writePath(o,t),i.length>r.length)return this.writeNavState(n,i.slice(r.length),0)}else console.warn("no matching URL for ",r.map(function(t){return t.id}))}return Promise.resolve()},t.prototype.push=function(t,e){void 0===e&&(e=!1);var n=r(t);return this.writePath(n,e),this.writeNavStateRoot(n)},t.prototype.writeNavStateRoot=function(t){if(this.busy)return Promise.resolve();var e=function(t,e){for(var r=0,n=e;r<n.length;r++){var i=n[r];if(u(t,i))return i}return null}(t,this.redirects);e&&(this.writePath(e.to,!0),t=e.to);var r=window.history.state>=this.state?1:-1,n=document.querySelector("ion-app"),i=function(t,e){for(var r=null,n=0,i=0,o=e;i<o.length;i++){var a=h(t,o[i]);null!==a&&a.length>n&&(n=a.length,r=a)}return r}(t,this.routes);return this.writeNavState(n,i,r)},t.prototype.writeNavState=function(t,e,r){var n=this;return this.busy?Promise.resolve():(this.busy=!0,function t(e,r,n,i){if(!r||n>=r.length)return Promise.resolve();var o=r[n],u=a(e);return u?u.componentOnReady().then(function(){return u.setRouteId(o.id,o.params,i)}).then(function(e){e.changed&&(i=0);var o=u.getContainerEl(),a=o?t(o,r,n+1,i):Promise.resolve();return e.markVisible?a.then(function(){return e.markVisible()}):a}):Promise.resolve()}(t,e,0,r).catch(function(t){return console.error(t)}).then(function(){return n.busy=!1}))},t.prototype.readNavState=function(){return function(t){for(var e,r=[];e=a(t);){var n=e.getRouteId();if(!n)break;t=e.getContainerEl(),r.push(n)}return{ids:r,pivot:e}}(document.querySelector("ion-app"))},t.prototype.writePath=function(t,e){this.state++,function(t,e,r,n,i,o){var a="/"+(n=[e].concat(n)).filter(function(t){return t.length>0}).join("/");r&&(a="#"+a),i?t.replaceState(o,null,a):t.pushState(o,null,a)}(window.history,this.base,this.useHash,t,e,this.state)},t.prototype.readPath=function(){return t=window.location,e=this.base,(n=this.useHash?t.hash.substr(1):t.pathname).startsWith(e)?r(n.slice(e.length)):null;var t,e,n},Object.defineProperty(t,"is",{get:function(){return"ion-router"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"properties",{get:function(){return{base:{type:String,attr:"base"},config:{context:"config"},dom:{context:"dom"},el:{elementRef:!0},navChanged:{method:!0},push:{method:!0},useHash:{type:Boolean,attr:"use-hash"}}},enumerable:!0,configurable:!0}),t}();t.IonRoute=e,t.IonRouter=f,Object.defineProperty(t,"__esModule",{value:!0})});